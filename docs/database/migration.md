# マイグレーション管理テーブル設計書

## 概要
データベーススキーマの変更履歴を管理し、適用済みのマイグレーションを記録します。

## テーブル種類
- トランザクション系

## テーブル定義
- テーブル名: `migration`

| カラム名       | データ型      | 制約                                      | 説明                                  |
|----------------|---------------|-------------------------------------------|---------------------------------------|
| id             | INT           | PRIMARY KEY, AUTO_INCREMENT               | マイグレーションの一意な識別子         |
| migration_name | VARCHAR(255)  | NOT NULL, UNIQUE                          | マイグレーションの名称またはファイル名    |
| applied_at     | DATETIME      | NOT NULL, DEFAULT CURRENT_TIMESTAMP       | マイグレーション適用日時               |

## 関係テーブル
- `schema_version`: スキーマバージョン管理情報を参照する場合があります。

## サンプルデータ

| id | migration_name  | applied_at           |
|----|-----------------|----------------------|
| 1  | init_schema.sql | 2023-10-01 00:00:00  |
| 2  | add_index.sql   | 2023-11-05 00:00:00  |
| 3  | update_users.sql| 2023-12-01 00:00:00  |
| 4  | add_new_feature.sql | 2023-12-15 00:00:00  |
| 5  | add_feature_flag.sql| 2023-12-20 00:00:00  |
| 6  | update_index.sql    | 2023-12-25 00:00:00  |

## 備考
- マイグレーションの管理は、実行済みのスクリプトの記録や再実行防止に利用します.
- スクリプトのバージョン管理および、必要に応じたロールバック戦略の策定を推奨します.
- 実行済みスクリプトのロールバック戦略や詳細なバージョン管理の実装を併せて検討すること.

## 解決策
- マイグレーション実行履歴を管理し、再実行防止と効率的なロールバック手順を整備する。
- バージョン管理システムとの連携で、一貫したデプロイ戦略を確立する。
