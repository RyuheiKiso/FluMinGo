# 通知テーブル設計書

## 概要
ユーザーに対してシステムからの通知情報を管理するテーブルです。

## テーブル種類
- トランザクション系

## テーブル定義
- テーブル名: `notification`

| カラム名           | データ型      | 制約                                      | 説明                                  |
|--------------------|---------------|-------------------------------------------|---------------------------------------|
| id                 | INT           | PRIMARY KEY, AUTO_INCREMENT               | 通知の一意な識別子                     |
| user_id            | INT           | NOT NULL                                  | 対象ユーザーの識別子（`user` テーブル参照）|
| notification_type  | VARCHAR(50)   | NOT NULL                                  | 通知の種類（例: info, warning, alert） |
| message            | TEXT          | NOT NULL                                  | 通知メッセージ                         |
| is_read            | BOOLEAN       | NOT NULL, DEFAULT FALSE                   | 既読状態                              |
| created_at         | DATETIME      | NOT NULL, DEFAULT CURRENT_TIMESTAMP       | 通知作成日時                          |
| updated_at         | DATETIME      | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 通知更新日時           |

## 備考
- `user_id`は`user`テーブルの主キーへの外部キーとして設定してください.
- メール通知やプッシュ通知等、他の通知手段との連携、およびユーザー毎の通知受信設定の導入を検討してください.
- メール通知、プッシュ通知など外部通知システムとの連携設計を行い、ユーザー別通知受信設定の実装を検討すること.

## 解決策
- 通知テーブルと連動する外部通知システムのAPIを利用して、各メディア間の連携を実現する。
- ユーザー毎の通知設定を別テーブルに定義し、柔軟に管理できる仕組みを構築する。

## 固定値一覧
- notification_type: info, warning, alert
- is_read: 初期値 false

## 関係テーブル
- `user`: 通知の対象ユーザー情報を参照します。

## サンプルデータ

| id | user_id | notification_type | message                   | is_read | created_at           | updated_at           |
|----|---------|-------------------|---------------------------|---------|----------------------|----------------------|
| 1  | 10      | info              | お知らせメッセージ例      | FALSE   | 2023-10-01 00:00:00  | 2023-10-01 00:00:00  |
| 2  | 10      | alert             | 警告メッセージ            | FALSE   | 2023-11-05 00:00:00  | 2023-11-05 00:00:00  |
| 3  | 11      | warning           | 注意メッセージ            | FALSE   | 2023-12-01 00:00:00  | 2023-12-01 00:00:00  |
| 4  | 12      | info              | システム更新のお知らせ    | FALSE   | 2023-12-15 00:00:00  | 2023-12-15 00:00:00  |
| 5  | 13      | alert             | セキュリティアップデートのお知らせ | FALSE   | 2023-12-20 00:00:00  | 2023-12-20 00:00:00  |
| 6  | 14      | info              | 定期メンテナンスのお知らせ         | FALSE   | 2023-12-25 00:00:00  | 2023-12-25 00:00:00  |
